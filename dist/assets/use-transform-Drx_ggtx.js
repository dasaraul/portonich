import{u as n,M as t,a as r}from"./index-6VOGZtYB.js";import{r as e}from"./vendor-three-DvxyzsjA.js";import{aa as o,z as s,B as a,am as c,an as u}from"./vendor-motion-nure8o_h.js";function f(r){const s=n((()=>o(r))),{isStatic:a}=e.useContext(t);if(a){const[,n]=e.useState(r);e.useEffect((()=>s.on("change",n)),[])}return s}function i(n,t){const e=f(t()),o=()=>e.set(t());return o(),r((()=>{const t=()=>s.preRender(o,!1,!0),r=n.map((n=>n.on("change",t)));return()=>{r.forEach((n=>n())),a(o)}})),e}function m(n,t,r,e){if("function"==typeof n)return function(n){c.current=[],n();const t=i(c.current,n);return c.current=void 0,t}(n);const o="function"==typeof t?t:u(t,r,e);return Array.isArray(n)?p(n,o):p([n],(([n])=>o(n)))}function p(t,r){const e=n((()=>[]));return i(t,(()=>{e.length=0;const n=t.length;for(let r=0;r<n;r++)e[r]=t[r].get();return r(e)}))}export{m as a,f as u};
